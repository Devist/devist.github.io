<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.8.0">
    <meta charset="utf-8">

    

    
    <title>Jenkins with GCP_(1)Jenkins 설치 | 오동환</title>
    
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    
        <meta name="keywords" content="GCP,CD,CI,Google Cloud Platform,centos7,jenkins">
    
    <meta name="description" content="Google cloud Platform에 무료 VM(리눅스 Centos7)을 할당 받아서 Gitlab, Jenkins, Webpack, Mocha를 연동하여 CI/CD를 해보려고 한다. 전문 분야는 아니지만 한 번 직접 구축해보는 것도 좋은 경험이 될 것 같다. 오늘의 목표는 Google Cloud Platform(이하 GCP)에 VM 인스턴스(Centos">
<meta name="keywords" content="GCP,CD,CI,Google Cloud Platform,centos7,jenkins">
<meta property="og:type" content="article">
<meta property="og:title" content="Jenkins with GCP_(1)Jenkins 설치">
<meta property="og:url" content="https://devist.github.io/2019/01/14/jenkins-with-gcp/index.html">
<meta property="og:site_name" content="오동환">
<meta property="og:description" content="Google cloud Platform에 무료 VM(리눅스 Centos7)을 할당 받아서 Gitlab, Jenkins, Webpack, Mocha를 연동하여 CI/CD를 해보려고 한다. 전문 분야는 아니지만 한 번 직접 구축해보는 것도 좋은 경험이 될 것 같다. 오늘의 목표는 Google Cloud Platform(이하 GCP)에 VM 인스턴스(Centos">
<meta property="og:locale" content="en">
<meta property="og:image" content="https://t1.daumcdn.net/cfile/tistory/992599445C398EC40D">
<meta property="og:updated_time" content="2019-01-19T07:46:52.679Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Jenkins with GCP_(1)Jenkins 설치">
<meta name="twitter:description" content="Google cloud Platform에 무료 VM(리눅스 Centos7)을 할당 받아서 Gitlab, Jenkins, Webpack, Mocha를 연동하여 CI/CD를 해보려고 한다. 전문 분야는 아니지만 한 번 직접 구축해보는 것도 좋은 경험이 될 것 같다. 오늘의 목표는 Google Cloud Platform(이하 GCP)에 VM 인스턴스(Centos">
<meta name="twitter:image" content="https://t1.daumcdn.net/cfile/tistory/992599445C398EC40D">
    
    <link rel="canonical" href="https://devist.github.io/2019/01/14/jenkins-with-gcp/">

    
        <link rel="alternate" href="/" title="오동환" type="application/atom+xml">
    

    
        <link rel="icon" href="/css/images/favicon.png">
    

    <link rel="stylesheet" href="/libs/font-awesome/css/font-awesome.min.css">
    <link rel="stylesheet" href="/libs/titillium-web/styles.css">
    <link rel="stylesheet" href="/libs/source-code-pro/styles.css">

    <link rel="stylesheet" href="/css/style.css">

    <script src="/libs/jquery/3.3.1/jquery.min.js"></script>
    
    
        <link rel="stylesheet" href="/libs/lightgallery/css/lightgallery.min.css">
    
    
        <link rel="stylesheet" href="/libs/justified-gallery/justifiedGallery.min.css">
    
    
        <script type="text/javascript">
(function(i,s,o,g,r,a,m) {i['GoogleAnalyticsObject']=r;i[r]=i[r]||function() {
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-132488858-1', 'auto');
ga('send', 'pageview');

</script>

    
    



    <link rel="stylesheet" href="https://cdn.jsdelivr.net/font-nanum/1.0/nanumbarungothic/nanumbarungothic.css">
</head>
</html>
<body>
    <div id="wrap">
        <header id="header">
    <div id="header-outer" class="outer">
        <div class="container">
            <div class="container-inner">
                <div id="header-title">
                    <h1 class="logo-wrap">
                        <a href="/" class="logo"></a>
                    </h1>
                    
                        <h2 class="subtitle-wrap">
                            <p class="subtitle">Donghwan&#39;s Something</p>
                        </h2>
                    
                </div>
                <div id="header-inner" class="nav-container">
                    <a id="main-nav-toggle" class="nav-icon fa fa-bars"></a>
                    <div class="nav-container-inner">
                        <ul id="main-nav">
                            
                                <li class="main-nav-list-item">
                                    <a class="main-nav-list-link" href="/">Home</a>
                                </li>
                            
                                <li class="main-nav-list-item">
                                    <a class="main-nav-list-link" href="/about/index.html">About</a>
                                </li>
                            
                                        <ul class="main-nav-list"><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/cloud/">Cloud</a><ul class="main-nav-list-child"><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/cloud/ci-cd/">CI/CD</a></li></ul></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/firebase/">Firebase</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/frontend/">Frontend</a><ul class="main-nav-list-child"><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/frontend/etc/">Etc</a></li></ul></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/log/">Log</a><ul class="main-nav-list-child"><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/log/year/">Year</a></li></ul></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/review/">Review</a><ul class="main-nav-list-child"><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/review/books/">Books</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/review/movies/">Movies</a></li></ul></li></ul>
                                    
                        </ul>
                        <nav id="sub-nav">
                            <div id="search-form-wrap">

    <form class="search-form">
        <input type="text" class="ins-search-input search-form-input" placeholder="Search">
        <button type="submit" class="search-form-submit"></button>
    </form>
    <div class="ins-search">
    <div class="ins-search-mask"></div>
    <div class="ins-search-container">
        <div class="ins-input-wrapper">
            <input type="text" class="ins-search-input" placeholder="Type something...">
            <span class="ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
(function (window) {
    var INSIGHT_CONFIG = {
        TRANSLATION: {
            POSTS: 'Posts',
            PAGES: 'Pages',
            CATEGORIES: 'Categories',
            TAGS: 'Tags',
            UNTITLED: '(Untitled)',
        },
        ROOT_URL: '/',
        CONTENT_URL: '/content.json',
    };
    window.INSIGHT_CONFIG = INSIGHT_CONFIG;
})(window);
</script>
<script src="/js/insight.js"></script>

</div>
                        </nav>
                    </div>
                </div>
            </div>
        </div>
    </div>
</header>
        <div class="container">
            <div class="main-body container-inner">
                <div class="main-body-inner">
                    <section id="main">
                        <div class="main-body-header">
    <h1 class="header">
    
    <a class="page-title-link" href="/categories/cloud/">Cloud</a><i class="icon fa fa-angle-right"></i><a class="page-title-link" href="/categories/cloud/ci-cd/">CI/CD</a>
    </h1>
</div>

                        <div class="main-body-content">
                            <article id="post-jenkins-with-gcp" class="article article-single article-type-post" itemscope="" itemprop="blogPost">
    <div class="article-inner">
        
            <header class="article-header">
                
    
        <h1 class="article-title" itemprop="name">
        Jenkins with GCP_(1)Jenkins 설치
        </h1>
    

            </header>
        
        
            <div class="article-meta">
                
    <div class="article-date">
        <a href="/2019/01/14/jenkins-with-gcp/" class="article-date">
            <time datetime="2019-01-13T17:21:12.000Z" itemprop="datePublished">2019-01-14</time>
        </a>
    </div>

		

                
    <div class="article-tag">
        <i class="fa fa-tag"></i>
        <a class="tag-link" href="/tags/cd/">CD</a>, <a class="tag-link" href="/tags/ci/">CI</a>, <a class="tag-link" href="/tags/gcp/">GCP</a>, <a class="tag-link" href="/tags/google-cloud-platform/">Google Cloud Platform</a>, <a class="tag-link" href="/tags/centos7/">centos7</a>, <a class="tag-link" href="/tags/jenkins/">jenkins</a>
    </div>

            </div>
        
        
        <div class="article-entry" itemprop="articleBody">
            <p>Google cloud Platform에 무료 VM(리눅스 Centos7)을 할당 받아서 Gitlab, Jenkins, Webpack, Mocha를 연동하여 CI/CD를 해보려고 한다. 전문 분야는 아니지만 한 번 직접 구축해보는 것도 좋은 경험이 될 것 같다.</p>
<p>오늘의 목표는 Google Cloud Platform(이하 GCP)에 VM 인스턴스(Centos7)를 생성하고, Jenkins를 설치하여 실행해 보는 것이다.</p>
<ul>
<li>Step1. GCP에 Centos7 VM 인스턴스 생성</li>
<li>Step2. JDK 설치</li>
<li>Step3. Maven 설치</li>
<li>Step4. Jenkins 설치</li>
</ul>
<h3 id="What-is-Jenkins"><a href="#What-is-Jenkins" class="headerlink" title="What is Jenkins?"></a>What is Jenkins?</h3><p>Jenkins는 소프트웨어를 작성, 테스트 및 배포하거나 배포하는 것과 관련된 모든 종류의 작업을 자동화하는 데 사용할 수 있는 오픈 소스 자동화 서버이다. Jenkins는 기본 시스템 패키지 인 Docker에 설치하거나 Java Runtime Environment (JRE)가 설치된 모든 시스템에서 독립 실행 형으로 실행할 수도 있다. - <a href="https://jenkins.io/doc/" target="_blank" rel="noopener">Jenkins User Documentation</a></p>
<p><br>   </p>
<h1 id="Step-1-GCP-에-Centos7-VM-인스턴스-생성"><a href="#Step-1-GCP-에-Centos7-VM-인스턴스-생성" class="headerlink" title="Step 1. GCP 에 Centos7 VM 인스턴스 생성"></a>Step 1. GCP 에 Centos7 VM 인스턴스 생성</h1><h3 id="a-GCP-프로젝트-생성"><a href="#a-GCP-프로젝트-생성" class="headerlink" title="a. GCP 프로젝트 생성"></a>a. GCP 프로젝트 생성</h3><p> <a href="https://console.cloud.google.com/" target="_blank" rel="noopener">https://console.cloud.google.com</a> 에 접속하여 로그인 후, 상단의 [프로젝트 선택]을 클릭하고 [새 프로젝트] 를 클릭한다.<img src="https://t1.daumcdn.net/cfile/tistory/99C752485C398D1103" alt=""></p>
<p>프로젝트 이름 입력 후, ‘’만들기’’를 클릭하여 프로젝트 생성을 완료한다.<img src="https://t1.daumcdn.net/cfile/tistory/9967864D5C398D1E0F" alt=""></p>
<h3 id="b-VM-인스턴스-생성"><a href="#b-VM-인스턴스-생성" class="headerlink" title="b. VM 인스턴스 생성"></a>b. VM 인스턴스 생성</h3><p>왼쪽 상단 메뉴 클릭 &gt; Computer Engine &gt; VM 인스턴스를 클릭한 후, <strong>[ +인스턴스 만들기]</strong> 버튼을 클릭한다.<img src="https://t1.daumcdn.net/cfile/tistory/99F8C14A5C398D2D0E" alt=""></p>
<p>인스턴스 만들기 페이지에서, 머신 유형을 초소형(무료임)을 선택하고, 부팅디스크는 CentOS7을 선택한다. 나머지는 다 기본 설정으로 건들지 않고, 하단의 <strong>만들기</strong> 버튼을 클릭한다.<img src="https://t1.daumcdn.net/cfile/tistory/99E159485C398D3F0F" alt=""></p>
<p>다음과 같이 인스턴스가 만들어진다.<img src="https://t1.daumcdn.net/cfile/tistory/99F7DF4A5C398D4902" alt=""></p>
<p><br></p>
<p><br> </p>
<h1 id="Step2-사전-준비-JDK-설치"><a href="#Step2-사전-준비-JDK-설치" class="headerlink" title="Step2. 사전 준비_JDK 설치"></a>Step2. 사전 준비_JDK 설치</h1><p>젠킨스를 사용하려면 jdk와 메이븐이 CentOs에 먼저 설치되어 있어야 한다고 한다. 먼저 CentOS 인스턴스에 JDK를 설치한다. 다음과 같이 SSH 연결에서 브라우저 창에서 열기를 클릭하여 Step1에서 생성한 인스턴스에 SSH로 접속하기 위한 클라우드 터미널을 연다. <img src="https://t1.daumcdn.net/cfile/tistory/9907D14E5C398DAD0C" alt=""></p>
<p><img src="https://t1.daumcdn.net/cfile/tistory/9985C64E5C398DAD0F" alt=""></p>
<h3 id="a-JDK-설치"><a href="#a-JDK-설치" class="headerlink" title="a. JDK 설치"></a>a. JDK 설치</h3><p>쉘에 아래 명령어를 입력하여 openJDK 1.8 버전을 설치한다.</p>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo yum install java-<span class="number">1.8</span>.<span class="number">0</span>-openjdk-devel.x86_64</span><br></pre></td></tr></table></figure>
<p>아래 명령어를 입력하여 설치 결과를 확인한다.</p>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ javac -version</span><br><span class="line">javac <span class="number">1.8</span>.<span class="number">0</span>_191</span><br></pre></td></tr></table></figure>
<h3 id="b-JDK-환경-변수-설정"><a href="#b-JDK-환경-변수-설정" class="headerlink" title="b. JDK 환경 변수 설정"></a>b. JDK 환경 변수 설정</h3><p><strong>JAVA_HOME 확인</strong></p>
<p>처음엔 JAVA_HOME에 아무런 값이 없다.</p>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ ehco <span class="variable">$JAVA_HOME</span></span><br><span class="line"></span><br><span class="line">$</span><br></pre></td></tr></table></figure>
<p><strong>JAVA 위치 확인</strong></p>
<p>환경변수를 설정하기 위해 javac의 위치를 확인한다. which 명령어로 javac 명령어의 위치를 찾는다. 이 때 찾은 위치는 심볼릭 링크이기 때문에, 원본 파일 위치를 찾기 위해서 readlink 명령어를 사용한다. 여기서 /bin/javac 이전까지의 경로가 JAVA_HOME이 된다.</p>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ which javac</span><br><span class="line">/usr/bin/javac</span><br><span class="line">$ readlink -f /usr/bin/javac</span><br><span class="line">/usr/lib/jvm/java-<span class="number">1.8</span>.<span class="number">0</span>-openjdk-<span class="number">1.8</span>.<span class="number">0.191</span>.b12-<span class="number">1</span>.el7_6.x86_64/bin/javac</span><br><span class="line">$</span><br></pre></td></tr></table></figure>
<p><strong>JAVA_HOME 설정</strong></p>
<p>환경변수를 설정하는 profile 파일을 vi 편집기로 연다.</p>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo vi /etc/profile</span><br></pre></td></tr></table></figure>
<p>파일의 가장 밑에 아래 내용 추가한 후 저장한다.</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">export JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.191.b12-1.el7_6.x86_64</span><br></pre></td></tr></table></figure>
<p>source 명령어를 이용해서 수정한 파일을 적용한다.</p>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ source /etc/profile</span><br></pre></td></tr></table></figure>
<p>마지막으로, 제대로 적용되었는지 확인한다.</p>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ echo <span class="variable">$JAVA_HOME</span></span><br><span class="line">/usr/lib/jvm/java-<span class="number">1.8</span>.<span class="number">0</span>-openjdk-<span class="number">1.8</span>.<span class="number">0.191</span>.b12-<span class="number">1</span>.el7_6.x86_64</span><br><span class="line">$ <span class="variable">$JAVA_HOME</span>/bin/javac -version</span><br><span class="line">javac <span class="number">1.8</span>.<span class="number">0</span>_191</span><br><span class="line">$</span><br></pre></td></tr></table></figure>
<p> <br></p>
<p><br></p>
<h1 id="Step3-사전-준비-maven-메이븐-설치"><a href="#Step3-사전-준비-maven-메이븐-설치" class="headerlink" title="Step3. 사전 준비_maven(메이븐) 설치"></a>Step3. 사전 준비_maven(메이븐) 설치</h1><p>이제 Maven이라는 빌드 도구를 설치한다.</p>
<p>사전준비로, 먼저 wget (웹 서버로부터 콘텐츠를 가져오는 프로그램, 명령어)을 설치한다.</p>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo yum install wget -y</span><br></pre></td></tr></table></figure>
<p><strong>메이븐 설치</strong></p>
<p>본격적으로 메이븐을 설치한다. 루트 경로에 tools라는 폴더를 만들고, 이 폴더로 이동한다.</p>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ sudo mkdir /tools</span><br><span class="line">$ cd /tools</span><br></pre></td></tr></table></figure>
<p>이동한 경로에서, maven을 다운받고 설치한다. ln 명령어로 심볼릭 링크를 걸었는데, 이는 나중에 메이븐 버전이 변경되었을 때 대응할 수 있도록 하기 위함이다.</p>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ sudo wget http://www-eu.apache.org/dist/maven/maven-<span class="number">3</span>/<span class="number">3.5</span>.<span class="number">4</span>/binaries/apache-maven-<span class="number">3.5</span>.<span class="number">4</span>-bin.tar.gz</span><br><span class="line">$ sudo tar xzf apache-maven-<span class="number">3.5</span>.<span class="number">4</span>-bin.tar.gz</span><br><span class="line">$ sudo ln -s apache-maven-<span class="number">3.5</span>.<span class="number">4</span>  maven</span><br></pre></td></tr></table></figure>
<p><strong>메이븐 환경설정 하기</strong></p>
<p>Maven 환경변수 설정 스크립트 파일을 생성한다.</p>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo vi /etc/profile.d/maven.sh</span><br></pre></td></tr></table></figure>
<p>파일 내의 다음 내용을 작성한 후 저장한다.</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">export MAVEN_HOME=/tools/maven</span><br><span class="line">export PATH=$&#123;MAVEN_HOME&#125;/bin:$&#123;PATH&#125;</span><br></pre></td></tr></table></figure>
<p>작성 내용을 바로 적용한다.</p>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ source /etc/profile.d/maven.sh</span><br></pre></td></tr></table></figure>
<p>적용이 제대로 되었는지 확인한다.</p>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ mvn -version</span><br></pre></td></tr></table></figure>
<p>  <br></p>
<p><br></p>
<h1 id="Step4-Jenkins-젠킨스-설치"><a href="#Step4-Jenkins-젠킨스-설치" class="headerlink" title="Step4. Jenkins(젠킨스) 설치"></a>Step4. Jenkins(젠킨스) 설치</h1><h3 id="a-GCP-구글-클라우드-플랫폼-방화벽-설정"><a href="#a-GCP-구글-클라우드-플랫폼-방화벽-설정" class="headerlink" title="a. GCP(구글 클라우드 플랫폼) 방화벽 설정"></a>a. GCP(구글 클라우드 플랫폼) 방화벽 설정</h3><p>JDK, Mave을 설치했으니 이제 드디어 jenkins를 설치할 차례다.</p>
<p>그러나 먼저 해줘야할 일이 있다. VM instance 방화벽을 설정하는 것이다. 구글 클라우드 플랫폼은 VM 외부에 방화벽이 있으며, vm 내부의 os가 아닌 vm 외부에서 방화벽 설정을 제대로 해줘야 원하는 포트를 사용할 수 있다. 클라이언트가 브라우저로 jenkins를 접속할 수 있도록 하기 위해, 먼저 방화벽을 설정하도록 한다.</p>
<p>아래처럼 나의 인스턴스 목록에서, 사용하는 인스턴스의 [네트워크 세부정보 보기] 를 클릭한다.<img src="https://t1.daumcdn.net/cfile/tistory/995E7B4C5C398E340E" alt=""></p>
<p>이후 [방화벽 규칙] -&gt; [방화벽 규칙 만들기] 를 클릭한다.<img src="https://t1.daumcdn.net/cfile/tistory/99435E4C5C398E3515" alt=""></p>
<p>다음과 같이 설정하여 8080 포트를 사용할 수 있도록 한다.<img src="https://t1.daumcdn.net/cfile/tistory/9992CE4C5C398E3613" alt=""></p>
<p>방화벽 규칙이 제대로 만들어졌나 확인한다.<img src="https://t1.daumcdn.net/cfile/tistory/99691D4C5C398E3714" alt=""></p>
<h3 id=""><a href="#" class="headerlink" title=" "></a> </h3><h3 id="b-젠킨스-설치"><a href="#b-젠킨스-설치" class="headerlink" title="b. 젠킨스 설치"></a>b. 젠킨스 설치</h3><p>방화벽 설정이 마무리 되었으니 이제 설치를 해 볼 차례다. 먼저 Jenkins 설치를 위한 yum 레파지토리를 설정한다.</p>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ sudo wget -O /etc/yum.repos.d/jenkins.repo http://pkg.jenkins-ci.org/redhat/jenkins.repo</span><br><span class="line">$ sudo rpm --import http://pkg.jenkins-ci.org/redhat/jenkins-ci.org.key</span><br></pre></td></tr></table></figure>
<p>젠킨스를 설치한다.</p>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo yum install jenkins</span><br></pre></td></tr></table></figure>
<p>포트 설정을 위해 jenkins 파일을 연다.</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span> sudo vi /etc/sysconfig/jenkins</span><br></pre></td></tr></table></figure>
<p>포트를 변경한다. 나 같은 경우는 디폴트 포트인 8080을 이용한다.</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">JENKINS_PORT="8080"</span><br></pre></td></tr></table></figure>
<p>아까 GCP의 VM 외부에서 방화벽 설정을 했으나, 혹시 모르니 내부에서 한번 더 방화벽을 설정해준다.</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span> sudo firewall-cmd --permanent --zone=public --add-port=9090/tcp</span><br><span class="line"><span class="meta">$</span> sudo firewall-cmd --reload</span><br></pre></td></tr></table></figure>
<h3 id="c-젠킨스-명령어"><a href="#c-젠킨스-명령어" class="headerlink" title="c. 젠킨스 명령어"></a>c. 젠킨스 명령어</h3><p>Jenkins 시작</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo service jenkins start</span><br></pre></td></tr></table></figure>
<p>Jenkins 종료</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo service jenkins stop</span><br></pre></td></tr></table></figure>
<p>Jenkins 재시작</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo service jenkins restart</span><br></pre></td></tr></table></figure>
<p>CentOs에서 젠킨스를 항상 실행하게 설정</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl enable jenkins</span><br></pre></td></tr></table></figure>
<h3 id="d-브라우저로-젠킨스에-접속하기"><a href="#d-브라우저로-젠킨스에-접속하기" class="headerlink" title="d. 브라우저로 젠킨스에 접속하기"></a>d. 브라우저로 젠킨스에 접속하기</h3><p>먼저 service jenkins start로 젠킨스를 동작시키고, 웹 브라우저로 접속해본다.</p>
<p>접속 주소는 <strong>http://외부 IP:8080</strong> 이다.<img src="https://t1.daumcdn.net/cfile/tistory/9987E54F5C398E960F" alt=""></p>
<p>다음과 같이 최초 화면이 뜬다면 성공.<img src="https://t1.daumcdn.net/cfile/tistory/9964874F5C398E9833" alt=""></p>
<p>Administrator password에는 다음의 명령어로 확인되는 코드를 입력해준다.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo cat /var/lib/jenkins/secrets/initialAdminPassword</span><br></pre></td></tr></table></figure>
<p>코드 입력 후 continue 를 누르면 다음의 화면이 나오는데, 젠킨스는 다양한 기능등릉 플러그인으로 제공하지만, 일단 여기서는 install suggested plugins로 설치를 진행하고 마무리한다.<img src="https://t1.daumcdn.net/cfile/tistory/993357435C398EB314" alt=""></p>
<p>설치 완료!<img src="https://t1.daumcdn.net/cfile/tistory/992599445C398EC40D" alt=""></p>

        </div>
        <footer class="article-footer">
            



    <a data-url="https://devist.github.io/2019/01/14/jenkins-with-gcp/" data-id="cjr366mjb001k1myjjkh3iu2r" class="article-share-link"><i class="fa fa-share"></i>Share</a>
<script>
    (function ($) {
        $('body').on('click', function() {
            $('.article-share-box.on').removeClass('on');
        }).on('click', '.article-share-link', function(e) {
            e.stopPropagation();

            var $this = $(this),
                url = $this.attr('data-url'),
                encodedUrl = encodeURIComponent(url),
                id = 'article-share-box-' + $this.attr('data-id'),
                offset = $this.offset(),
                box;

            if ($('#' + id).length) {
                box = $('#' + id);

                if (box.hasClass('on')){
                    box.removeClass('on');
                    return;
                }
            } else {
                var html = [
                    '<div id="' + id + '" class="article-share-box">',
                        '<input class="article-share-input" value="' + url + '">',
                        '<div class="article-share-links">',
                            '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="article-share-twitter" target="_blank" title="Twitter"></a>',
                            '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="article-share-facebook" target="_blank" title="Facebook"></a>',
                            '<a href="http://pinterest.com/pin/create/button/?url=' + encodedUrl + '" class="article-share-pinterest" target="_blank" title="Pinterest"></a>',
                            '<a href="https://plus.google.com/share?url=' + encodedUrl + '" class="article-share-google" target="_blank" title="Google+"></a>',
                        '</div>',
                    '</div>'
                ].join('');

              box = $(html);

              $('body').append(box);
            }

            $('.article-share-box.on').hide();

            box.css({
                top: offset.top + 25,
                left: offset.left
            }).addClass('on');

        }).on('click', '.article-share-box', function (e) {
            e.stopPropagation();
        }).on('click', '.article-share-box-input', function () {
            $(this).select();
        }).on('click', '.article-share-box-link', function (e) {
            e.preventDefault();
            e.stopPropagation();

            window.open(this.href, 'article-share-box-window-' + Date.now(), 'width=500,height=450');
        });
    })(jQuery);
</script>

        </footer>
    </div>
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "BlogPosting",
        "author": {
            "@type": "Person",
            "name": "DongHwan"
        },
        "headline": "Jenkins with GCP_(1)Jenkins 설치",
        "image": "https://devist.github.iohttps://t1.daumcdn.net/cfile/tistory/992599445C398EC40D",
        "keywords": "GCP CD CI Google Cloud Platform centos7 jenkins",
        "genre": "Cloud CI/CD",
        "datePublished": "2019-01-14",
        "dateCreated": "2019-01-14",
        "dateModified": "2019-01-19",
        "url": "https://devist.github.io/2019/01/14/jenkins-with-gcp/",
        "description": "Google cloud Platform에 무료 VM(리눅스 Centos7)을 할당 받아서 Gitlab, Jenkins, Webpack, Mocha를 연동하여 CI/CD를 해보려고 한다. 전문 분야는 아니지만 한 번 직접 구축해보는 것도 좋은 경험이 될 것 같다.
오늘의 목표는 Google Cloud Platform(이하 GCP)에 VM 인스턴스(Centos"
        "wordCount": 991
    }
</script>

</article>

    <section id="comments">
    
        
    <div id="disqus_thread">
        <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    </div>

    
    </section>



                        </div>
                    </section>
                    <aside id="sidebar">
    <a class="sidebar-toggle" title="Expand Sidebar"><i class="toggle icon"></i></a>
    <div class="sidebar-top">
        <p>follow:</p>
        <ul class="social-links">
            
                
                <li>
                    <a class="social-tooltip" title="github" href="https://github.com/devist" target="_blank" rel="noopener">
                        <i class="icon fa fa-github"></i>
                    </a>
                </li>
                
            
                
                <li>
                    <a class="social-tooltip" title="youtube" href="/" target="_blank" rel="noopener">
                        <i class="icon fa fa-youtube"></i>
                    </a>
                </li>
                
            
                
                <li>
                    <a class="social-tooltip" title="instagram" href="https://www.instagram.com/5.d.o.n.g/" target="_blank" rel="noopener">
                        <i class="icon fa fa-instagram"></i>
                    </a>
                </li>
                
            
                
                <li>
                    <a class="social-tooltip" title="rss" href="/" target="_blank" rel="noopener">
                        <i class="icon fa fa-rss"></i>
                    </a>
                </li>
                
            
        </ul>
    </div>
    
        
<nav id="article-nav">
    
        <a href="/2019/01/14/Firebase-Cloud-Messaging/" id="article-nav-newer" class="article-nav-link-wrap">
        <strong class="article-nav-caption">newer</strong>
        <p class="article-nav-title">
        
            Firebase Cloud Messaging
        
        </p>
        <i class="icon fa fa-chevron-right" id="icon-chevron-right"></i>
    </a>
    
    
        <a href="/2019/01/14/Retrospect-for-2018/" id="article-nav-older" class="article-nav-link-wrap">
        <strong class="article-nav-caption">older</strong>
        <p class="article-nav-title">2018년 회고하기</p>
        <i class="icon fa fa-chevron-left" id="icon-chevron-left"></i>
        </a>
    
</nav>

    
    <div class="widgets-container">
        
            
                

            
                
    <div class="widget-wrap">
        <h3 class="widget-title">recents</h3>
        <div class="widget">
            <ul id="recent-post" class="">
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/2019/01/19/jenkins-with-gitlab/" class="thumbnail">
    
    
        <span style="background-image:url(/2019/01/19/jenkins-with-gitlab/gitlab.png)" alt="Jenkins with GCP_(2)Gitlab 설치" class="thumbnail-image"></span>
    
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/cloud/">Cloud</a><i class="icon fa fa-angle-right"></i><a class="article-category-link" href="/categories/cloud/ci-cd/">CI/CD</a></p>
                            <p class="item-title"><a href="/2019/01/19/jenkins-with-gitlab/" class="title">Jenkins with GCP_(2)Gitlab 설치</a></p>
                            <p class="item-date"><time datetime="2019-01-19T06:58:52.000Z" itemprop="datePublished">2019-01-19</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/2019/01/16/how-to-use-jsdoc/" class="thumbnail">
    
    
        <span style="background-image:url(https://t1.daumcdn.net/cfile/tistory/99229C4A5A4C375F15)" alt="JSDoc 설치 및 사용방법 | JavaDoc과 비슷한 JSDoc으로 자바스크립트 문서화" class="thumbnail-image"></span>
    
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/frontend/">Frontend</a><i class="icon fa fa-angle-right"></i><a class="article-category-link" href="/categories/frontend/etc/">Etc</a></p>
                            <p class="item-title"><a href="/2019/01/16/how-to-use-jsdoc/" class="title">JSDoc 설치 및 사용방법 | JavaDoc과 비슷한 JSDoc으로 자바스크립트 문서화</a></p>
                            <p class="item-date"><time datetime="2019-01-16T11:32:34.000Z" itemprop="datePublished">2019-01-16</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/2019/01/15/how-to-use-esdoc/" class="thumbnail">
    
    
        <span style="background-image:url(/2019/01/15/how-to-use-esdoc//esdoc_customizing.jpg)" alt="ESDoc 설치 및 사용방법 | ES6 자바스크립트 문서화하기" class="thumbnail-image"></span>
    
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/frontend/">Frontend</a><i class="icon fa fa-angle-right"></i><a class="article-category-link" href="/categories/frontend/etc/">Etc</a></p>
                            <p class="item-title"><a href="/2019/01/15/how-to-use-esdoc/" class="title">ESDoc 설치 및 사용방법 | ES6 자바스크립트 문서화하기</a></p>
                            <p class="item-date"><time datetime="2019-01-15T14:34:18.000Z" itemprop="datePublished">2019-01-15</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/2019/01/14/review-books-2/" class="thumbnail">
    
    
        <span style="background-image:url(https://t1.daumcdn.net/cfile/tistory/99D854415AC0E1E93A)" alt="독서기록) 그대 눈동자에 건배" class="thumbnail-image"></span>
    
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/review/">Review</a><i class="icon fa fa-angle-right"></i><a class="article-category-link" href="/categories/review/books/">Books</a></p>
                            <p class="item-title"><a href="/2019/01/14/review-books-2/" class="title">독서기록) 그대 눈동자에 건배</a></p>
                            <p class="item-date"><time datetime="2019-01-14T13:50:54.000Z" itemprop="datePublished">2019-01-14</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/2019/01/14/Firebase-Cloud-Messaging/" class="thumbnail">
    
    
        <span class="thumbnail-image thumbnail-none"></span>
    
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/firebase/">Firebase</a></p>
                            <p class="item-title"><a href="/2019/01/14/Firebase-Cloud-Messaging/" class="title">Firebase Cloud Messaging</a></p>
                            <p class="item-date"><time datetime="2019-01-13T17:28:27.000Z" itemprop="datePublished">2019-01-14</time></p>
                        </div>
                    </li>
                
            </ul>
        </div>
    </div>

            
                
    <div class="widget-wrap widget-float">
        <h3 class="widget-title">tag cloud</h3>
        <div class="widget tagcloud">
            <a href="/tags/cd/" style="font-size: 20px;">CD</a> <a href="/tags/ci/" style="font-size: 20px;">CI</a> <a href="/tags/gcp/" style="font-size: 20px;">GCP</a> <a href="/tags/google-cloud-platform/" style="font-size: 20px;">Google Cloud Platform</a> <a href="/tags/jenkins/" style="font-size: 10px;">Jenkins</a> <a href="/tags/centos7/" style="font-size: 20px;">centos7</a> <a href="/tags/esdoc/" style="font-size: 20px;">esdoc</a> <a href="/tags/git/" style="font-size: 10px;">git</a> <a href="/tags/gitlab/" style="font-size: 10px;">gitlab</a> <a href="/tags/javascript/" style="font-size: 20px;">javascript</a> <a href="/tags/jenkins/" style="font-size: 10px;">jenkins</a> <a href="/tags/jsdoc/" style="font-size: 20px;">jsdoc</a>
        </div>
    </div>


            
                
    <div class="widget-wrap widget-list">
        <h3 class="widget-title">categories</h3>
        <div class="widget">
            <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/cloud/">Cloud</a><span class="category-list-count">2</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/cloud/ci-cd/">CI/CD</a><span class="category-list-count">2</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/firebase/">Firebase</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/frontend/">Frontend</a><span class="category-list-count">2</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/frontend/etc/">Etc</a><span class="category-list-count">2</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/log/">Log</a><span class="category-list-count">1</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/log/year/">Year</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/review/">Review</a><span class="category-list-count">3</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/review/books/">Books</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/review/movies/">Movies</a><span class="category-list-count">1</span></li></ul></li></ul>
        </div>
    </div>


            
                
    <div class="widget-wrap widget-list">
        <h3 class="widget-title">archives</h3>
        <div class="widget">
            <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/01/">January 2019</a><span class="archive-list-count">9</span></li></ul>
        </div>
    </div>


            
                
    <div class="widget-wrap widget-list">
        <h3 class="widget-title">tags</h3>
        <div class="widget">
            <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/cd/">CD</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ci/">CI</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/gcp/">GCP</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/google-cloud-platform/">Google Cloud Platform</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/jenkins/">Jenkins</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/centos7/">centos7</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/esdoc/">esdoc</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/git/">git</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/gitlab/">gitlab</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/javascript/">javascript</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/jenkins/">jenkins</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/jsdoc/">jsdoc</a><span class="tag-list-count">2</span></li></ul>
        </div>
    </div>


            
        
    </div>
</aside>

                </div>
            </div>
        </div>
        <footer id="footer">
    <div class="container">
        <div class="container-inner">
            <a id="back-to-top" href="javascript:;"><i class="icon fa fa-angle-up"></i></a>
            <div class="credit">
                <h1 class="logo-wrap">
                    <a href="/" class="logo"></a>
                </h1>
                <p>&copy; 2019 DongHwan</p>
                <p>Powered by <a href="//hexo.io/" target="_blank">Hexo</a>. Theme by <a href="//github.com/ppoffice" target="_blank">PPOffice</a></p>
            </div>
            <div class="footer-plugins">
              
    


            </div>
        </div>
    </div>
</footer>

        
    
    <script>
    var disqus_shortname = 'donghwan';
    
    
    var disqus_url = 'https://devist.github.io/2019/01/14/jenkins-with-gcp/';
    
    (function() {
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
    </script>




    
        <script src="/libs/lightgallery/js/lightgallery.min.js"></script>
        <script src="/libs/lightgallery/js/lg-thumbnail.min.js"></script>
        <script src="/libs/lightgallery/js/lg-pager.min.js"></script>
        <script src="/libs/lightgallery/js/lg-autoplay.min.js"></script>
        <script src="/libs/lightgallery/js/lg-fullscreen.min.js"></script>
        <script src="/libs/lightgallery/js/lg-zoom.min.js"></script>
        <script src="/libs/lightgallery/js/lg-hash.min.js"></script>
        <script src="/libs/lightgallery/js/lg-share.min.js"></script>
        <script src="/libs/lightgallery/js/lg-video.min.js"></script>
    
    
        <script src="/libs/justified-gallery/jquery.justifiedGallery.min.js"></script>
    
    



<!-- Custom Scripts -->
<script src="/js/main.js"></script>

    </div>
</body>
</html>
